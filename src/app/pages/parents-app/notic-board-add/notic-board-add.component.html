<app-layout>
    <div class="container p-4">
      
      <div class="row header-txt">
        <div class="col-md-6"><span>Notice Board Add</span></div>  
        <div class="col-md-6 text-end mb-1"> <button class="btn" role="navigation" (click)="backBtnClick()">Back</button></div>   
    </div>
    <div class="row">
      <div class="col-md-3"></div>
      <div class="col-md-5">
        <form [formGroup]="noticeForm" (ngSubmit)="addNotice()">
          <div class="row mt-3">
            <div class="col-12">
              <label for="exampleInputEmail1" class="form-label">Title</label>
              <input
                type="text"
                class="form-control"
                id="exampleInputEmail1"
                aria-describedby="emailHelp"
                width="200px"
                formControlName="name"
              />
            </div>
            </div>
            <div class="row mt-3">
              <div class="col-12">
                <label class="form-label">Type </label>
                <!-- <label class="form-label">Class *</label> -->
                <select class="form-select" formControlName="type">
                  <option disabled value="select">Select</option>
                  <option *ngFor="let type of types" [value]="type">
                    {{ type }}
                  </option>
                </select>
              </div>
            </div>
            <div class="row mt-3">
              <div class="col-12">
                <label for="exampleInputEmail1" class="form-label"
                  >Description</label
                >
                <textarea
                  class="form-control col-md-6 input-lg"
                  id="exampleFormControlTextarea2"
                  rows="5"
                  formControlName="description"
                ></textarea>
              </div></div>
            <div class="row mt-3">
            <div class="col-12">
              <label class="form-label">Image</label>
              <ngx-file-drop
                [multiple]="false"
                [directory]="false"
                (onFileDrop)="onFilesDropped($event, 'notice')"
              >
                <ng-template
                  ngx-file-drop-content-tmp
                  let-openFileSelector="openFileSelector"
                >
                  <ng-container *ngIf="!noticeFile">
                    Drag and drop or
                    <a
                      class="p-1 btn btn-link"
                      type="button"
                      (click)="openFileSelector()"
                      >Browse Files</a
                    >
                  </ng-container>
                  <ng-container *ngIf="noticeFile">
                    {{ noticeFile.name }}
                    <a
                      class="p-1 btn btn-link"
                      style="color: #f44336"
                      type="button"
                      (click)="noticeFile = noticeImage = null"
                    >
                      Remove
                    </a>
                  </ng-container>
                </ng-template>
              </ngx-file-drop>
              <img
                *ngIf="noticeImage"
                [src]="noticeImage"
                class="img-fluid"
                alt="Responsive image"
                height="150px"
                width="250px"
              />
            </div></div>
          
         

          <div class="text-end mt-3">
            <button
              type="submit"
              class="btn btn-primary"
              [disabled]="!noticeForm.valid || isLoading || !noticeFile"
            >
              <span
                *ngIf="isLoading"
                class="spinner-border text-light"
              ></span>
              <span *ngIf="!isLoading">Save</span>
            </button>
          </div>
        </form>
      </div>
    </div>
        
    </div>
</app-layout>